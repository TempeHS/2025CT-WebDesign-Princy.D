"use strict";(self.webpackChunkstatic=self.webpackChunkstatic||[]).push([[42734],{70814:(t,e,n)=>{n.d(e,{c6:()=>w,hy:()=>b,S8:()=>A});var l=n(67294),r=n(87462);const i=(t,e)=>{switch(e.type){case"SET_COURSE":case"SET_COURSE_AND_CONTENT":{const{course:n}=e.data;return n?(0,r.Z)({},t,{[n.id]:n}):t}default:return t}},a=(t,e)=>{switch(e.type){case"SET_COURSE":case"SET_COURSE_AND_CONTENT":{const{course:n}=e.data;return null!=n&&n.slug?(0,r.Z)({},t,{[n.slug]:n.id}):t}default:return t}},s=(t,e)=>{switch(e.type){case"SET_COURSE":case"SET_COURSE_AND_CONTENT":{const{course:n,unit:l}=e.data,i=n.unitChildren.reduce(((t,e)=>(e&&(t[e.id]=e),t)),(0,r.Z)({},t));return l&&(i[l.id]=l),i||t}default:return t}},o=(t,e)=>{switch(e.type){case"SET_COURSE":case"SET_COURSE_AND_CONTENT":{const{course:n,unit:l}=e.data,i=n.unitChildren.reduce(((t,e)=>(t[e.slug]=e.id,t)),(0,r.Z)({},t));return l&&(i[l.slug]=l.id),i||t}default:return t}},d=(t,e)=>{if("SET_COURSE_AND_CONTENT"===e.type){const{lesson:n}=e.data;return n?(0,r.Z)({},t,{[n.id]:n}):t}return t},u=(t,e)=>{if("SET_COURSE_AND_CONTENT"===e.type){const{lesson:n}=e.data;return null!=n&&n.slug?(0,r.Z)({},t,{[n.slug]:n.id}):t}return t},c=(t,e)=>{switch(e.type){case"SET_COURSE_AND_CONTENT":{const{content:n}=e.data;return n?(0,r.Z)({},t,{[n.id]:n}):t}case"SET_LEARNABLE_CONTENT":{const{content:n}=e.data;return n?(0,r.Z)({},t,{[n.id]:n}):t}default:return t}},p=(t,e)=>{switch(e.type){case"SET_COURSE_AND_CONTENT":{const{content:n}=e.data;return n.slug?(0,r.Z)({},t,{[`${n.contentKind}:${n.slug}`]:n.id}):t}case"SET_LEARNABLE_CONTENT":{const{content:n}=e.data;return n.slug?(0,r.Z)({},t,{[`${n.contentKind}:${n.slug}`]:n.id}):t}default:return t}};function h(t,e){switch(e.type){case"SET_COURSE_AND_CONTENT":case"SET_COURSE":{const{course:n,unlistedUnitIds:l}=e.data;return(0,r.Z)({},t,{[n.id]:l})}default:return t}}const g={courseById:{},courseIdBySlug:{},unitById:{},unitIdBySlug:{},lessonById:{},lessonIdBySlug:{},learnableContentById:{},learnableContentIdByKindAndSlug:{},unlistedUnitIdsByCourseId:{}},m=(t=g,e)=>{switch(e.type){case"CLEAR_CONTENT_CACHE":return g;case"SET_COURSE":return(0,r.Z)({},t,{publishedContentVersion:e.publishedContentVersion,courseById:i(t.courseById,e),courseIdBySlug:a(t.courseIdBySlug,e),unitById:s(t.unitById,e),unitIdBySlug:o(t.unitIdBySlug,e),unlistedUnitIdsByCourseId:h(t.unlistedUnitIdsByCourseId,e)});case"SET_COURSE_AND_CONTENT":{const{course:n,content:l}=e.data;return n||l?(0,r.Z)({},t,{publishedContentVersion:e.publishedContentVersion,courseById:i(t.courseById,e),courseIdBySlug:a(t.courseIdBySlug,e),unitById:s(t.unitById,e),unitIdBySlug:o(t.unitIdBySlug,e),learnableContentById:c(t.learnableContentById,e),learnableContentIdByKindAndSlug:p(t.learnableContentIdByKindAndSlug,e),unlistedUnitIdsByCourseId:h(t.unlistedUnitIdsByCourseId,e),lessonById:d(t.lessonById,e),lessonIdBySlug:u(t.lessonIdBySlug,e)}):t}case"SET_LEARNABLE_CONTENT":return(0,r.Z)({},t,{publishedContentVersion:e.publishedContentVersion,learnableContentById:c(t.learnableContentById,e),learnableContentIdByKindAndSlug:p(t.learnableContentIdByKindAndSlug,e)})}return t};var C=n(81800),T=n(44092),y=n(709),v=n(70228),E=n(44952),I=n(9820),S=n(57931);const f=()=>{const t=(0,v.T)(),e=(0,l.useRef)(!1);let n=t.pathname;"/"===n.charAt(0)&&(n=n.substring(1));const r=(0,T.U)(E.g4,{skip:!0,variables:{path:n,countryCode:y.default.remoteCountry,kaLocale:y.default.kaLocale,clientPublishedContentVersion:C.Z.commitSHA}});if(e.current)return null;if(e.current||(e.current=!0),"success"===r.status){const t=r.data,{courseData:e,learnableContentData:n,unlisted:l,publishedContentVersion:i}=(0,S.xr)(t);if(e){const t=m(g,n?{unlisted:l,publishedContentVersion:i,type:"SET_COURSE_AND_CONTENT",data:{course:(0,I.sW)(e),unlistedUnitIds:(0,S.JX)(e),content:(0,I._4)(n)}}:{unlisted:l,publishedContentVersion:i,type:"SET_COURSE",data:{course:(0,I.sW)(e),unlistedUnitIds:(0,S.JX)(e)}});return{listedState:l?g:t,unlistedState:l?t:g}}}return null};var D=n(85893);const b=l.createContext({state:g,dispatch:t=>{}});b.displayName="ListedContentCacheContext";const A=l.createContext({state:g,dispatch:t=>{}});A.displayName="UnlistedContentCacheContext";const U=t=>{var e;const[n,r]=(0,l.useReducer)(m,null!=(e=t.initialState)?e:g),i=(0,l.useMemo)((()=>({state:n,dispatch:r})),[n,r]);return(0,D.jsx)(b.Provider,{value:i,children:t.children})},B=t=>{var e;const[n,r]=(0,l.useReducer)(m,null!=(e=t.initialState)?e:g),i=(0,l.useMemo)((()=>({state:n,dispatch:r})),[n,r]);return(0,D.jsx)(A.Provider,{value:i,children:t.children})},w=t=>{var e,n;const l=f();return(0,D.jsx)(U,{initialState:null!=(e=t.listedInitialState)?e:null==l?void 0:l.listedState,children:(0,D.jsx)(B,{initialState:null!=(n=t.unlistedInitialState)?n:null==l?void 0:l.unlistedState,children:t.children})})}},61437:(t,e,n)=>{n.d(e,{Z:()=>g});var l=n(67294),r=n(70814),i=n(87462);const a=(t,e)=>(0,i.Z)({},e,t),s=(t,e)=>(0,i.Z)({},e,t),o=(t,e)=>(0,i.Z)({},e,t),d=(t,e)=>(0,i.Z)({},e,t),u=(t,e)=>(0,i.Z)({},e,t),c=(t,e)=>(0,i.Z)({},e,t),p=(t,e)=>(0,i.Z)({},e,t),h={type:"CLEAR_CONTENT_CACHE"},g=()=>{const{state:t,dispatch:e}=(0,l.useContext)(r.hy),{state:n,dispatch:g}=(0,l.useContext)(r.S8);return{state:(0,l.useMemo)((()=>{return l=t,{courseIdBySlug:a((e=n).courseIdBySlug,l.courseIdBySlug),courseById:s(e.courseById,l.courseById),learnableContentById:o(e.learnableContentById,l.learnableContentById),learnableContentIdByKindAndSlug:d(e.learnableContentIdByKindAndSlug,l.learnableContentIdByKindAndSlug),unitIdBySlug:u(e.unitIdBySlug,l.unitIdBySlug),unitById:c(e.unitById,l.unitById),publishedContentVersion:e.publishedContentVersion||l.publishedContentVersion,unlistedUnitIdsByCourseId:p(e.unlistedUnitIdsByCourseId,l.unlistedUnitIdsByCourseId),lessonById:(0,i.Z)({},l.lessonById,e.lessonById),lessonIdBySlug:(0,i.Z)({},l.lessonIdBySlug,e.lessonIdBySlug)};var e,l}),[t,n]),dispatch:(0,l.useCallback)((l=>{"CLEAR_CONTENT_CACHE"!==l.type&&(t.publishedContentVersion&&l.publishedContentVersion!==t.publishedContentVersion&&e(h),n.publishedContentVersion&&l.publishedContentVersion!==n.publishedContentVersion&&g(h)),l.unlisted?g(l):e(l)}),[e,g,t.publishedContentVersion,n.publishedContentVersion])}}},9820:(t,e,n)=>{n.d(e,{F$:()=>P,DO:()=>N,xw:()=>L,sW:()=>h,Le:()=>Z,_4:()=>w,GJ:()=>I,wn:()=>j,Lr:()=>V,MW:()=>Q,bp:()=>H});var l=n(63366),r=n(87462),i=n(69051),a=n(69763);const s=(t,e)=>{switch(e){case"Challenge":return"COMPLETE"===t?a.a.CHALLENGE_COMPLETE:"STARTED"===t?a.a.CHALLENGE_STARTED:a.a.CHALLENGE_NOT_STARTED;case"Project":return"COMPLETE"===t?a.a.PROJECT_PASS:"STARTED"===t?a.a.PROJECT_STARTED:a.a.CHALLENGE_NOT_STARTED;default:return a.a.CHALLENGE_NOT_STARTED}};var o=n(42177),d=n(61210),u=n(85586),c=n(60578);const p=["__typename"],h=t=>{var e,n,l;return{id:t.id,contentKind:"Course",iconPath:t.iconPath,masteryEnabled:F(t.masteryEnabled,"masteryEnabled"),parent:y(F(t.parent,"parent")),relativeUrl:F(t.relativeUrl,"relativeUrl"),slug:F(t.slug,"slug"),translatedTitle:F(t.translatedTitle,"translatedTitle"),translatedDescription:F(t.translatedDescription,"translatedDescription"),unitChildren:(null!=(e=t.unitChildren)?e:[]).filter(i.fQ).map(v),curation:m(F(t.curation,"curation")),lowerToc:null==(n=t.lowerToc)||n,courseChallenge:t.courseChallenge?g(t.courseChallenge):null,isListedForLearners:F(t.isListedForLearners,"isListedForLearners"),translatedCustomTitleTag:t.translatedCustomTitleTag,masteryChallenge:t.masteryChallenge?T(t.masteryChallenge):null,userAuthoredContentTypes:F(null==(l=t.userAuthoredContentTypes)?void 0:l.map(((t,e)=>F(t,`userAuthoredContentTypes[${e}]`))),"userAuthoredContentTypes")}},g=t=>{var e,n;if("CourseChallenge"!==t.contentKind)throw new d.jc("Failed to map course challenge",d.D1.Internal,{sentryData:{contexts:{Data:{id:t.id}}}});return{id:t.id,slug:F(t.slug,"slug"),contentDescriptor:F(t.contentDescriptor,"contentDescriptor"),contentKind:"CourseChallenge",urlWithinCurationNode:F(t.urlWithinCurationNode,"urlWithinCurationNode"),exerciseLength:F(t.exerciseLength,"exerciseLength"),timeEstimate:{lowerBound:F(null==(e=t.timeEstimate)?void 0:e.lowerBound,"timeEstimate.lowerBound"),upperBound:F(null==(n=t.timeEstimate)?void 0:n.upperBound,"timeEstimate.upperBound")}}},m=t=>{var e,n,l,r,a,s;return{hideCourseIntro:F(t.hideSubjectIntro,"hideSubjectIntro"),hideCommunityQuestions:t.hideCommunityQuestions,sponsorFooterAttribution:t.sponsorFooterAttribution?{footnoteHtml:null!=(e=t.sponsorFooterAttribution.footnoteHtml)?e:void 0,imageBaselineAligned:null!=(n=t.sponsorFooterAttribution.imageBaselineAligned)?n:void 0,imageCaption:null!=(l=t.sponsorFooterAttribution.imageCaption)?l:void 0,imageUrl:null!=(r=t.sponsorFooterAttribution.imageUrl)?r:void 0,taglineHtml:null!=(a=t.sponsorFooterAttribution.taglineHtml)?a:void 0}:null,modules:(null!=(s=t.modules)?s:[]).map(C).filter(i.fQ),excludedChildren:F(t.excludedChildren,"excludedChildren")}},C=t=>{switch(t.__typename){case"ActionListModule":return{kind:"ActionList",actions:t.actions.map((t=>({contentDescriptor:t.contentDescriptor,text:t.text,url:t.URL}))),title:t.title,untranslatedFields:t.untranslatedFields};case"BrowseProjectsModule":return{kind:"BrowseProjects"};case"CourseIntroModule":return{kind:"SubjectIntro",callToAction:t.callToAction,description:t.description,link:t.link,video:t.video||null,untranslatedFields:t.untranslatedFields,title:t.title};case"MappersModule":return{kind:"Mappers"};case"PartnershipDescriptionModule":return{kind:"PartnershipDescription",description:t.description,imageCaption:t.imageCaption,imageUrl:t.imageUrl,isOutro:t.isOutro,partnerUrl:t.partnerUrl,partnerUrlText:t.partnerUrlText,untranslatedFields:t.untranslatedFields};case"ContentCarouselModule":return{kind:"ContentCarousel",referrer:t.referrer,title:t.title,contentDescriptors:t.contentDescriptors,untranslatedFields:t.untranslatedFields}}},T=t=>{var e,n;if("CourseMasteryChallenge"!==t.contentKind)throw new d.jc("Failed to map mastery challenge",d.D1.Internal,{sentryData:{contexts:{Data:{id:t.id}}}});return{id:t.id,slug:F(t.slug,"slug"),contentDescriptor:F(t.contentDescriptor,"contentDescriptor"),contentKind:"MasteryChallenge",urlWithinCurationNode:F(t.urlWithinCurationNode,"urlWithinCurationNode"),exerciseLength:F(t.exerciseLength,"exerciseLength"),timeEstimate:{lowerBound:F(null==(e=t.timeEstimate)?void 0:e.lowerBound,"timeEstimate.lowerBound"),upperBound:F(null==(n=t.timeEstimate)?void 0:n.upperBound,"timeEstimate.upperBound")}}},y=t=>({id:t.id,contentKind:F(t.contentKind,"contentKind"),relativeUrl:F(t.relativeUrl,"relativeUrl"),slug:F(t.slug,"slug"),translatedTitle:F(t.translatedTitle,"translatedTitle")}),v=t=>{var e;return{id:t.id,contentKind:"Unit",children:(null!=(e=t.allOrderedChildren)?e:[]).filter(i.fQ).map(E),masteryEnabled:F(t.masteryEnabled,"masteryEnabled"),slug:F(t.slug,"slug"),relativeUrl:F(t.relativeUrl,"relativeUrl"),translatedDescription:F(t.translatedDescription,"translatedDescription"),translatedTitle:F(t.translatedTitle,"translatedTitle"),iconPath:t.iconPath,translatedCustomTitleTag:t.translatedCustomTitleTag,isListedForLearners:F(t.isListedForLearners,"isListedForLearners")}},E=t=>{switch(t.__typename){case"Lesson":return I(t);case"TopicQuiz":case"TopicUnitTest":const e=f(t);if("Quiz"!==e.contentKind&&"UnitTest"!==e.contentKind)throw new d.jc("Failed to map Quiz/UnitTest",d.D1.Internal,{sentryData:{contexts:{Data:{id:t.id}}}});return e;default:throw new d.jc("Invalid Unit child type: "+t.__typename,d.D1.Internal,{sentryData:{contexts:{Data:{id:t.id}}}})}},I=t=>{var e,n;const l=(null!=(e=t.curatedChildren)?e:[]).reduce(((t,e)=>{if(!e)return t;const n=f(e);return"Quiz"===n.contentKind||"UnitTest"===n.contentKind||t.push(n),t}),[]);return{id:t.id,contentKind:"Lesson",curatedChildren:l,relativeUrl:F(t.relativeUrl,"relativeUrl"),slug:F(t.slug,"slug"),translatedDescription:null!=(n=t.translatedDescription)?n:"",translatedTitle:F(t.translatedTitle,"translatedTitle"),key:F(t.key,"key")}},S=t=>{var e;const n=null!=(e=t.path)?e:[];if(0===n.length)throw new d.jc("LearnableContent paths must not be empty",d.D1.Internal);const l=n[n.length-1];if("CourseChallenge"===(null==l?void 0:l.kind)){if(3!==n.length)throw new d.jc("CourseChallenge paths are expected to contain 3 segments",d.D1.Internal,{sentryData:{contexts:{Data:{pathLength:n.length}}}});const[t,e,r]=n;return{pathKind:"course-level-learnable-content",domainId:F(null==t?void 0:t.id,"topicPath.path.id"),domainSlug:F(null==t?void 0:t.slug,"topicPath.path.slug"),courseId:F(null==e?void 0:e.id,"topicPath.path.id"),courseSlug:F(null==e?void 0:e.slug,"topicPath.path.slug"),learnableContentKind:null==l?void 0:l.kind,learnableContentId:F(null==l?void 0:l.id,"topicPath.path.id"),learnableContentSlug:F(null==l?void 0:l.slug,"topicPath.path.slug")}}if(5!==n.length)throw new d.jc("LearnableContent paths are expected to contain 5 segments",d.D1.Internal,{sentryData:{contexts:{Data:{pathLength:n.length}}}});const[r,i,a,s,o]=n;return{pathKind:"lesson-level-learnable-content",domainId:F(null==r?void 0:r.id,"topicPath.path.id"),domainSlug:F(null==r?void 0:r.slug,"topicPath.path.slug"),courseId:F(null==i?void 0:i.id,"topicPath.path.id"),courseSlug:F(null==i?void 0:i.slug,"topicPath.path.slug"),unitId:F(null==a?void 0:a.id,"topicPath.path.id"),unitSlug:F(null==a?void 0:a.slug,"topicPath.path.slug"),lessonId:F(null==s?void 0:s.id,"topicPath.path.id"),lessonSlug:F(null==s?void 0:s.slug,"topicPath.path.slug"),learnableContentKind:(0,c.m_)(F(null==l?void 0:l.kind,"topicPath.path.kind")),learnableContentId:F(null==l?void 0:l.id,"topicPath.path.id"),learnableContentSlug:F(null==l?void 0:l.slug,"topicPath.path.slug")}},f=t=>{var e,n,l,i,a,s,o,c;const p=F(t.contentKind,"contentKind"),h={id:t.id,canonicalUrl:F(t.canonicalUrl,"canonicalUrl"),contentDescriptor:F(t.contentDescriptor,"contentDescriptor"),progressKey:t.progressKey,slug:F(t.slug,"slug"),translatedCustomTitleTag:t.translatedCustomTitleTag,translatedDescription:F(t.translatedDescription,"translatedDescription"),translatedTitle:F(t.translatedTitle,"translatedTitle"),urlWithinCurationNode:F(t.urlWithinCurationNode,"urlWithinCurationNode"),unitMasteryEnabled:Boolean(null!=(e=null==(n=t.parentTopic)||null==(n=n.parent)?void 0:n.masteryEnabled)&&e)};switch(t.__typename){case"AIGuideActivity":throw new d.jc("AIGuideActivity is not supported",d.D1.Internal);case"TopicQuiz":return(0,r.Z)({},h,{contentKind:"Quiz",exerciseLength:F(t.exerciseLength,"exerciseLength"),index:F(t.index,"index"),timeEstimate:{lowerBound:F(null==(l=t.timeEstimate)?void 0:l.lowerBound,"timeEstimate.lowerBound"),upperBound:F(null==(i=t.timeEstimate)?void 0:i.upperBound,"timeEstimate.upperBound")}});case"TopicUnitTest":return(0,r.Z)({},h,{contentKind:"UnitTest",exerciseLength:F(t.exerciseLength,"exerciseLength"),timeEstimate:{lowerBound:F(null==(a=t.timeEstimate)?void 0:a.lowerBound,"timeEstimate.lowerBound"),upperBound:F(null==(s=t.timeEstimate)?void 0:s.upperBound,"timeEstimate.upperBound")}});case"Exercise":return(0,r.Z)({},h,{contentKind:"Exercise",exerciseLength:F(t.exerciseLength,"exerciseLength"),isSkillCheck:F(t.isSkillCheck,"isSkillCheck"),sponsored:F(t.sponsored,"sponsored"),thumbnailUrl:F(t.thumbnailUrl,"thumbnailUrl"),timeEstimate:{lowerBound:F(null==(o=t.timeEstimate)?void 0:o.lowerBound,"timeEstimate.lowerBound"),upperBound:F(null==(c=t.timeEstimate)?void 0:c.upperBound,"timeEstimate.upperBound")}});case"Challenge":return(0,r.Z)({},h,{contentKind:"Challenge",userAuthoredContentType:z(t.userAuthoredContentType)});case"Interactive":return(0,r.Z)({},h,{contentKind:"Interactive",userAuthoredContentType:z(t.userAuthoredContentType)});case"Project":return(0,r.Z)({},h,{contentKind:"Project",userAuthoredContentType:z(t.userAuthoredContentType)});case"Article":case"Talkthrough":case"Video":return(0,r.Z)({},h,{contentKind:p});default:throw(0,u.g)("Unhandled content kind",t)}};function D(t){return t?JSON.parse(t):[]}const b=t=>t?t.filter(i.fQ).map((t=>{var e,n;return{id:t.id,relativeUrl:F(t.relativeUrl,"relativeUrl"),translatedTitle:F(t.translatedTitle,"translatedTitle"),learnableContent:null!=(e=null==(n=t.allLearnableContent)?void 0:n.filter(i.fQ).map((t=>({id:t.id,contentKind:t.contentKind}))))?e:[]}})):[],A=t=>null!=t&&t.name?{name:t.name}:null,U=t=>t?t.filter(i.fQ).map((t=>{var e;return{setId:F(t.setId,"setId"),standardId:F(t.standardId,"standardId"),description:null!=(e=t.description)?e:"",relativeUrl:t.relativeUrl,setOfStandards:{id:F(t.setOfStandards.id,"id"),isDiscoverable:F(t.setOfStandards.isDiscoverable,"isDiscoverable")}}})):[],B=t=>null==t?void 0:t.map((t=>{const e=(0,l.Z)(t,p);return(0,r.Z)({},e)})),w=t=>{switch(t.__typename){case"Article":return(t=>({clarificationsEnabled:t.articleClarificationsEnabled||!1,contentKind:"Article",id:t.id,translatedPerseusContent:D(t.translatedPerseusContent),slug:F(t.slug,"slug"),standards:U([]),translatedDescription:F(t.translatedDescription,"translatedDescription"),translatedTitle:F(t.translatedTitle,"translatedTitle")}))(t);case"Challenge":return(t=>{var e,n;return{id:t.id,authorList:t.authorList.map(A).filter(i.fQ),canvasOnly:null!=(e=t.canvasOnly)&&e,code:F(t.code,"code"),codeFormat:F(t.codeFormat,"codeFormat"),configVersion:null!=(n=t.configVersion)?n:0,contentKind:"Challenge",defaultUrlPath:F(t.defaultUrlPath,"defaultUrlPath"),height:F(t.height,"height"),nodeSlug:F(t.nodeSlug,"nodeSlug"),slug:F(t.slug,"slug"),translatedDescription:F(t.translatedDescription,"translatedDescription"),translatedTests:F(t.translatedTests,"translatedTests"),testsFormat:F(t.testsFormat,"testsFormat"),translatedTitle:F(t.translatedTitle,"translatedTitle"),testStrings:t.testStrings.map((t=>t.message)),userAuthoredContentType:z(t.userAuthoredContentType),width:F(t.width,"width")}})(t);case"Exercise":return(t=>({id:t.id,contentKind:"Exercise",slug:F(t.slug,"slug"),standards:U([]),translatedTitle:F(t.translatedTitle,"translatedTitle"),problemTypeKind:t.problemTypeKind}))(t);case"Interactive":return(t=>{var e,n;return{id:t.id,authorList:t.authorList.map(A).filter(i.fQ),canvasOnly:null!=(e=t.canvasOnly)&&e,code:F(t.code,"code"),codeFormat:F(t.codeFormat,"codeFormat"),configVersion:null!=(n=t.configVersion)?n:0,contentKind:"Interactive",defaultUrlPath:F(t.defaultUrlPath,"defaultUrlPath"),height:F(t.height,"height"),nodeSlug:F(t.nodeSlug,"nodeSlug"),slug:F(t.slug,"slug"),translatedDescription:F(t.translatedDescription,"translatedDescription"),translatedTitle:F(t.translatedTitle,"translatedTitle"),userAuthoredContentType:z(t.userAuthoredContentType),width:F(t.width,"width")}})(t);case"Project":return(t=>{var e,n;return{id:t.id,authorList:t.authorList.map(A).filter(i.fQ),canvasOnly:null!=(e=t.canvasOnly)&&e,code:F(t.code,"code"),codeFormat:F(t.codeFormat,"codeFormat"),configVersion:null!=(n=t.configVersion)?n:0,contentKind:"Project",defaultUrlPath:F(t.defaultUrlPath,"defaultUrlPath"),height:F(t.height,"height"),nodeSlug:F(t.nodeSlug,"nodeSlug"),slug:F(t.slug,"slug"),translatedDescription:F(t.translatedDescription,"translatedDescription"),translatedTitle:F(t.translatedTitle,"translatedTitle"),translatedProjectEval:F(t.translatedProjectEval,"translatedProjectEval"),translatedProjectEvalTips:t.translatedProjectEvalTips,userAuthoredContentType:z(t.userAuthoredContentType),width:F(t.width,"width")}})(t);case"Talkthrough":return(t=>{var e,n,l,r;return{id:t.id,authorList:t.authorList.map(A).filter(i.fQ),canvasOnly:null!=(e=t.canvasOnly)&&e,code:F(t.code,"code"),configVersion:null!=(n=t.configVersion)?n:0,contentKind:"Talkthrough",defaultUrlPath:F(t.defaultUrlPath,"defaultUrlPath"),height:F(t.height,"height"),nodeSlug:F(t.nodeSlug,"nodeSlug"),playback:F(t.playback,"playback"),slug:F(t.slug,"slug"),subtitles:(0,o.E)(null!=(l=null==(r=t.subtitles)?void 0:r.filter(i.fQ))?l:[]),translatedDescription:F(t.translatedDescription,"translatedDescription"),translatedMp3Url:F(t.translatedMp3Url,"translatedMp3Url"),translatedTitle:F(t.translatedTitle,"translatedTitle"),userAuthoredContentType:F(t.userAuthoredContentType,"userAuthoredContentType"),width:F(t.width,"width"),youtubeId:F(t.youtubeId,"youtubeId")}})(t);case"TopicQuiz":return(t=>({contentKind:"Quiz",coveredLessons:b(t.coveredTutorials),exerciseLength:F(t.exerciseLength,"exerciseLength"),id:t.id,index:F(t.index,"index"),slug:F(t.slug,"slug"),timeEstimate:{lowerBound:F(t.timeEstimate.lowerBound,"timeEstimate.lowerBound"),upperBound:F(t.timeEstimate.upperBound,"timeEstimate.upperBound")},translatedTitle:F(t.translatedTitle,"translatedTitle")}))(t);case"TopicUnitTest":return(t=>({contentKind:"UnitTest",coveredLessons:b(t.coveredTutorials),exerciseLength:F(t.exerciseLength,"exerciseLength"),id:t.id,slug:F(t.slug,"slug"),timeEstimate:{lowerBound:F(t.timeEstimate.lowerBound,"timeEstimate.lowerBound"),upperBound:F(t.timeEstimate.upperBound,"timeEstimate.upperBound")},translatedTitle:F(t.translatedTitle,"translatedTitle")}))(t);case"Video":return(t=>{var e,n,l,r;return{id:t.id,slug:F(t.slug,"slug"),contentKind:"Video",translatedTitle:F(t.translatedTitle,"translatedTitle"),authorNames:(null!=(e=t.authorNames)?e:[]).filter(i.fQ),authorList:(t.videoAuthorList||[]).map(A).filter(i.fQ),clarificationsEnabled:t.clarificationsEnabled,dateAdded:F(t.dateAdded,"dateAdded"),description:F(t.description,"description"),downloadUrls:(r=t.downloadUrls,r?JSON.parse(r):{}),duration:F(t.duration,"duration"),imageUrl:F(t.imageUrl,"imageUrl"),kaUrl:F(t.kaUrl,"kaUrl"),kaUserLicense:F(t.kaUserLicense,"kaUserLicense"),keywords:F(t.keywords,"keywords"),readableId:F(t.readableId,"readableId"),sha:F(t.sha,"sha"),thumbnailUrls:(l=t.thumbnailUrls,l?l.map((t=>t&&t.category&&t.url?{category:t.category,url:t.url}:null)).filter(i.fQ):[]),translatedDescriptionHtml:F(t.translatedDescriptionHtml,"translatedDescriptionHtml"),translatedYoutubeId:F(t.translatedYoutubeId,"translatedYoutubeId"),translatedYoutubeLang:F(t.translatedYoutubeLang,"translatedYoutubeLang"),youtubeId:F(t.youtubeId,"youtubeId"),augmentedTranscript:t.augmentedTranscript,descriptionHtml:F(t.descriptionHtml,"descriptionHtml"),nodeSlug:F(t.nodeSlug,"nodeSlug"),relativeUrl:F(t.relativeUrl,"relativeUrl"),translatedCustomTitleTag:F(t.translatedCustomTitleTag,"translatedCustomTitleTag"),translatedDescription:F(t.translatedDescription,"translatedDescription"),standards:U([]),subtitles:(0,o.E)(F(null==(n=t.subtitles)?void 0:n.filter(i.fQ),"subtitles")),keyMoments:B(t.keyMoments),educationalLevel:t.educationalLevel,learningResourceType:t.learningResourceType}})(t);case"LearnableCourseChallenge":throw new d.jc("CourseChallenge learnable content not supported",d.D1.Internal);case"AIGuideActivity":throw new d.jc("AIGuideActivity learnable content not supported",d.D1.Internal);default:throw(0,u.g)("Unhandled typename",t.__typename)}},L=t=>t?{coachKaid:t.coachKaid,descriptor:t.descriptor,name:t.name,id:t.id}:null,_=(t,e)=>{var n;return null==e?null:{id:e.id,contentDescriptor:F(e.contentDescriptor,"contentDescriptor"),contentKind:F(e.contentKind,"contentKind"),quizIndex:"Quiz"===e.contentKind?e.index:null,slug:F(e.slug,"slug"),translatedTitle:F(e.translatedTitle,"translatedTitle"),urlWithinCurationNode:F(e.urlWithinCurationNode,"urlWithinCurationNode"),topicPaths:(null!=(n=e.topicPaths)?n:[]).filter(i.fQ).map(S),unit:x(t,e)}},x=(t,e)=>{var n,l,r,i;const a=null!=(n=null!=(l=null==(r=t.lesson)?void 0:r.parent)?l:t.unit)?n:null==(i=e.parentTopic)?void 0:i.parent,{id:s,masteryEnabled:o,translatedTitle:d}=F(a,"assignment.content.parentTopic.parent");return{id:s,masteryEnabled:!!o,translatedTitle:F(d,"assignment.content.parentTopic.parent.translatedTitle",{unitId:s})}},P=t=>{var e,n,l,r;const i=F(t.contents,"contents");if(i.length>1)throw new d.jc("Unexpected number of content items found for assignment. Expected: 1, found: "+i.length,d.D1.Internal,{sentryData:{contexts:{Data:{assignmentID:t.id}}}});const a=null!=(e=null==i?void 0:i[0])?e:null,s=null!=(n=t.itemCompletionStates)?n:[];if(s.length>1)throw new d.jc("Unexpected number of completion states found for assignment. Expected: 1, found: "+s.length,d.D1.Internal,{sentryData:{contexts:{Data:{assignmentID:t.id}}}});const o=null==s?void 0:s[0],u=(null!=(l=null==o?void 0:o.exerciseAttempts)?l:[]).filter((t=>(null==t?void 0:t.isCompleted)&&!(null!=t&&t.isRestarted))).pop(),{domainId:c,courseId:p,unitId:h,lessonId:g}=t;return{id:t.id,title:t.title,content:_(t,a),dueDate:F(t.dueDate,"dueDate"),itemCompletionState:K(null==o?void 0:o.state),isSameQuestion:"SAME"===(null==(r=t.exerciseConfig)?void 0:r.itemPickerStrategy),key:F(t.key,"assignment.key"),lastAttempt:k(u),path:{domainId:M(c),courseId:M(p),unitId:M(h),lessonId:M(g)}}},N=(t,e=!1)=>{var n,l,r;const a=(null!=(n=null==t?void 0:t.assignments)?n:[]).filter(i.fQ).filter((t=>{var n;return!(!e&&"AIGuideActivity"===(null==(n=t.contents)?void 0:n[0].contentKind))})).map(P),s=null!=(l=null==t||null==(r=t.pageInfo)?void 0:r.nextCursor)?l:null;return{assignments:a,pageInfo:{hasNextPage:null!=s,nextCursor:s}}},K=t=>{if(!t)return"unstarted";switch(t){case"completed":case"missed":case"unstarted":case"late":return t;default:throw new d.jc("Unexpected completion state: "+t,d.D1.Internal)}},O=t=>t?{numCorrect:t.numCorrect,numAttempted:t.numAttempted,completedDate:t.completedDate}:null,k=t=>t?{numCorrect:t.numCorrect,numAttempted:t.numAttempted,lastAttemptDate:t.lastAttemptDate}:null,R=t=>{if(!t)return null;let e;if("TopicQuizAttempt"===t.__typename){if(!t.positionKey)throw new d.jc("Missing positionKey",d.D1.Internal);e=t.positionKey}if("TopicUnitTestAttempt"===t.__typename){if(!t.topicId)throw new d.jc("Missing topicId",d.D1.Internal);e=`Unit:${t.topicId}`}if(!e)throw new d.jc("Missing key",d.D1.Internal);return{key:e,numCorrect:t.numCorrect,numAttempted:t.numAttempted,isCompleted:t.isCompleted}},j=(t=[])=>(null!=t?t:[]).map((t=>null!=t&&t.content?"ExerciseItemProgress"===t.__typename?(t=>{var e,n,l,r;return{type:"ExerciseItemProgress",completionStatus:F(t.completionStatus,"completionStatus"),content:{id:F(null==(e=t.content)?void 0:e.id,"id"),contentKind:F(null==(n=t.content)?void 0:n.contentKind,"contentKind"),contentDescriptor:F(null==(l=t.content)?void 0:l.contentDescriptor,"contentDescriptor"),progressKey:F(null==(r=t.content)?void 0:r.progressKey,"progressKey")},masteryLevel:t.updatedMasteryLevel||"unfamiliar",bestScore:O(t.bestScore),lastCompletedAttempt:k(t.lastCompletedAttempt)}})(t):(t=>{var e,n,l,r;return{type:"BasicContentItemProgress",completionStatus:F(t.completionStatus,"completionStatus"),content:{id:F(null==(e=t.content)?void 0:e.id,"id"),contentKind:F(null==(n=t.content)?void 0:n.contentKind,"contentKind"),contentDescriptor:F(null==(l=t.content)?void 0:l.contentDescriptor,"contentDescriptor"),progressKey:M(null==(r=t.content)?void 0:r.progressKey)},bestScore:O(t.bestScore)}})(t):null)).filter(i.fQ),V=(t=[])=>(null!=t?t:[]).map(R).filter(i.fQ),Q=(t=[])=>(null!=t?t:[]).map(R).filter(i.fQ),Z=t=>{const e=t.topic?{id:t.topic.id}:null;return{id:t.id,course:e}},F=(t,e,n)=>{if(null==t)throw new d.jc(`Field is unexpectedly null when mapping GraphQL types: ${e}`,d.D1.Internal,{sentryData:{contexts:{Data:(0,r.Z)({fieldName:e},n)}}});return t},M=t=>t||null,H=t=>{var e;if(!t)return null;const n=F(null==(e=t.content)?void 0:e.contentKind,"contentKind"),l=F(t.completionStatus,"completionStatus");return{challengeStatus:s(l,n),isComplete:"COMPLETE"===l,points:t.points,stashedCode:t.stashedCode,lastMsWatched:t.lastMsWatched}},z=t=>F(t,"userAuthoredContentType")},59651:(t,e,n)=>{n.d(e,{Z:()=>a});var l=n(44092),r=n(709),i=n(44952);const a=(t,e)=>{var n,a;const s=(0,l.U)(i.HZ,{skip:null!=(n=null==e?void 0:e.skip)&&n,variables:{path:t,countryCode:r.default.remoteCountry},targetLocale:"en"});switch(s.status){case"no-data":case"loading":return{status:"loading"};case"aborted":case"error":return{status:"error"};default:return{status:"success",existsInEnglish:!(null==(a=s.data)||null==(a=a.contentRoute)||!a.resolvedPath)}}}},57931:(t,e,n)=>{n.d(e,{JX:()=>g,ZP:()=>m,xr:()=>h});var l=n(69051),r=n(67294),i=n(81800),a=n(44092),s=n(709),o=n(70228),d=n(61437),u=n(44952),c=n(9820),p=n(59651);const h=t=>{var e,n,l,r,i,a,s;const o=null==t||null==(e=t.contentRoute)||null==(e=e.listedPathData)?void 0:e.course,d=null==t||null==(n=t.contentRoute)||null==(n=n.unlistedPathData)?void 0:n.course,u=null==t||null==(l=t.contentRoute)||null==(l=l.listedPathData)?void 0:l.content,c=null==t||null==(r=t.contentRoute)||null==(r=r.unlistedPathData)?void 0:r.content,p=null==t||null==(i=t.contentRoute)||null==(i=i.listedPathData)?void 0:i.lesson,h=null==t||null==(a=t.contentRoute)||null==(a=a.unlistedPathData)?void 0:a.lesson,g=!o&&!!d||!u&&!!c,m=g?d:o,C=g?c:u,T=g?h:p,y=null!=(s=null==t?void 0:t.publishedContentVersion.contentVersion)?s:"";return"CurationPage"===(null==m?void 0:m.contentKind)?{courseData:null,learnableContentData:null,unlisted:g,publishedContentVersion:y,lessonData:null}:{courseData:m,learnableContentData:C,publishedContentVersion:y,unlisted:g,lessonData:"UnitTest"===(null==C?void 0:C.contentKind)||"Quiz"===(null==C?void 0:C.contentKind)?T:null}},g=t=>{var e,n;const r=null!=(e=null==(n=t.unitChildren)?void 0:n.filter(l.fQ))?e:[];return new Set(r.filter((e=>{var n;return null==(n=e.unlistedAncestorIds)?void 0:n.includes(t.id)})).map((t=>t.id)))},m=t=>{var e;const n=(0,o.T)(),l=n.pathname.replace(/^\//,"");const{dispatch:m,state:{publishedContentVersion:C,courseIdBySlug:T,courseById:y}}=(0,d.Z)(),v=(0,r.useRef)(null);(0,r.useEffect)((()=>{v.current!==l&&m({unlisted:!0,type:"CLEAR_CONTENT_CACHE"}),v.current=l}),[m,l]);const E=t?T[t]:null,I=!E||!y[E],S=(0,a.U)(u.g4,{skip:!I,variables:{path:l,countryCode:s.default.remoteCountry,kaLocale:s.default.kaLocale,clientPublishedContentVersion:C||i.Z.commitSHA}});(0,r.useEffect)((()=>{I&&"success"===S.status&&((t,e)=>{const{courseData:n,learnableContentData:l,unlisted:r,publishedContentVersion:i,lessonData:a}=h(e);n&&l?t({unlisted:r,publishedContentVersion:i,type:"SET_COURSE_AND_CONTENT",data:{course:(0,c.sW)(n),unlistedUnitIds:g(n),content:(0,c._4)(l),lesson:a?(0,c.GJ)(a):void 0}}):!!n&&t({unlisted:r,publishedContentVersion:i,type:"SET_COURSE",data:{course:(0,c.sW)(n),unlistedUnitIds:g(n)}})})(m,S.data)}),[m,I,S.data,S.status]);const f=!("success"===S.status&&!(null!=(e=S.data.contentRoute)&&e.resolvedPath))||"en"===s.default.kaLocale,D=(0,p.Z)(l,{skip:f});if(I){if("error"===S.status||"aborted"===S.status)return{status:"error"};if("loading"===S.status||"no-data"===S.status)return{status:"loading"}}if("success"===S.status){var b,A;const{data:{contentRoute:t}}=S;if(null==t||!t.resolvedPath)return f?{status:"success",result:"not-found"}:"success"===D.status?{status:"success",result:D.existsInEnglish?"not-translated":"not-found"}:D;if(t.resolvedPath!==l)return{status:"success",result:"redirect",redirectTo:"/"+t.resolvedPath};if("CurationPage"===(null==(b=t.listedPathData)||null==(b=b.course)?void 0:b.contentKind)||"CurationPage"===(null==(A=t.unlistedPathData)||null==(A=A.course)?void 0:A.contentKind))return{status:"success",result:"not-available-stt"}}return{status:"success",result:"valid-path"}}},60578:(t,e,n)=>{n.d(e,{DU:()=>c,ZH:()=>p,m_:()=>o,sC:()=>d,vE:()=>i});var l=n(61210),r=n(404);const i=t=>{if("course-level-learnable-content"===t.pathKind)return a(t);if("lesson-level-learnable-content"===t.pathKind)return s(t);throw new l.jc("Unknown topic path kind",l.D1.Internal,{sentryData:{contexts:{extras:{path:JSON.stringify(t)}}}})},a=t=>{const{domainSlug:e,courseSlug:n,learnableContentSlug:r}=t,i=[e,n,"test",r];return i.forEach((e=>{if(!e)throw new l.jc("Cannot construct URL for invalid path",l.D1.Internal,{sentryData:{contexts:{extras:{path:JSON.stringify(t)}}}})})),"/"+i.join("/")},s=t=>{const{domainSlug:e,courseSlug:n,unitSlug:r,lessonSlug:i,learnableContentKind:a,learnableContentSlug:s}=t,o=[e,n,r,i,u[a],s];return h.includes(a)&&!u[a]?null:(o.forEach((e=>{if(!e)throw new l.jc("Cannot construct URL for invalid path",l.D1.Internal,{sentryData:{contexts:{extras:{path:JSON.stringify(t)}}}})})),"/"+o.join("/"))},o=t=>{switch(t){case"Article":case"Challenge":case"Exercise":case"Interactive":case"Project":case"Talkthrough":case"Video":return t;case"TopicQuiz":case"Quiz":return"Quiz";case"TopicUnitTest":case"UnitTest":return"UnitTest";case"AIGuideActivity":return"AIGuideActivity";default:throw new l.jc("Unknown content kind "+t,l.D1.Internal)}},d={a:"Article",v:"Video",e:"Exercise",pc:"Challenge",pi:"Interactive",pp:"Project",pt:"Talkthrough",quiz:"Quiz",test:"UnitTest"},u={Article:"a",Video:"v",Exercise:"e",Challenge:"pc",Interactive:"pi",Project:"pp",Talkthrough:"pt",Quiz:"quiz",UnitTest:"test"};function c(t,e){return Math.round((null!=e?e:0)/(null!=t?t:1)*100)}const p=t=>{switch(t.contentKind){case"Quiz":return r.k2(t.index+1);case"UnitTest":return r.E8(t.contentKind);case"CourseChallenge":return r.e;case"MasteryChallenge":return r.Ni;default:return t.translatedTitle}},h=["Article","Challenge","Exercise","Interactive","Project","Quiz","Talkthrough","UnitTest","Video","AIGuideActivity"]},69763:(t,e,n)=>{n.d(e,{a:()=>l});const l=Object.freeze({CHALLENGE_NOT_STARTED:-1,CHALLENGE_STARTED:0,CHALLENGE_COMPLETE:1,PROJECT_NOT_STARTED:2,PROJECT_STARTED:3,PROJECT_PASS:5})},42177:(t,e,n)=>{n.d(e,{E:()=>i});var l=n(87462),r=n(61210);const i=t=>t.map((t=>({endTime:a(t.endTime,"endTime"),startTime:a(t.startTime,"startTime"),kaIsValid:a(t.kaIsValid,"kaIsValid"),text:a(t.text,"text")}))),a=(t,e,n)=>{if(null==t)throw new r.jc(`Field is unexpectedly null when mapping GraphQL types: ${e}`,r.D1.Internal,{sentryData:{contexts:{Data:(0,l.Z)({fieldName:e},n)}}});return t}}}]);
//# sourceMappingURL=sourcemaps/en/42734.9f9865c3aebda4629054.js.map